<div>
    
    <table class="table table-hover  table-bordered">
        <thead>
            <tr>
            <th scope="col">#</th>
            <th scope="col">Amount</th>
            <th scope="col">Description</th>
            <th scope="col">Type</th>
            <th scope="col">Created By</th>
            <th scope="col">Edit</th>
            <th scope="col">Last Edited By</th>
            <th scope="col">Delete</th>
            <th scope="col">Image</th>
            </tr>
        </thead>
        <tbody>
        <% i=1 %>
        <% @transactions.each do |transaction| %>
            <% if transaction.sign %>
                <tr class="bg-success text-white">
            <% else %>
                <tr class="bg-danger text-white">
            <% end %>
            <th scope="row"><%= i %></th>
            <td><%=transaction.amount%></td>
            <td><%=transaction.description%></td>
            <% if transaction.sign %>
                <td><%= "Credit" %></td>
            <% else %>
                <td><%= "Debit" %></td>
            <% end %>
            <td><%=transaction.created_by%></td>
            <td><%= link_to "Edit", edit_transaction_all_path(transaction_id:transaction.id,ledger_id:@ledger.id), class:"btn btn-info"%></td>
            <td class="text-center"><%=transaction.updated_by ? transaction.updated_by : "-"%></td>
            <td><%= button_to "Delete", destroy_transaction_all_path(transaction_id:transaction.id,ledger_id:@ledger.id), method: :delete, class:"btn btn-warning"%></td>
            <% if transaction.document.attached? %>
                <td><%=link_to 'View', url_for(transaction.document),class:"btn btn-secondary",target: :blank%>
                <%= button_to delete_document_all_path(transaction_id:transaction.id,ledger_id:@ledger.id), method: :delete do%>
                       <i class="fa fa-trash"></i>
                <%end%>
                </td>
            <% else %>
                <td><%= link_to "Upload", edit_transaction_all_path(transaction_id:transaction.id,ledger_id:@ledger.id), class:"btn btn-info"%></td> 
            <% end %>
            </tr>  

        <% i+=1 %>
        <% end %>
        </tbody>
    </table>
    <%= link_to "New Transaction", new_transaction_all_path(ledger_id:@ledger.id),class:"btn btn-primary" %>
    <%= link_to "Back to Ledgers", root_path,class:"btn btn-primary" %>
    
</div>
